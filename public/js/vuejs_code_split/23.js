(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{nevQ:function(t,s,i){"use strict";i.r(s);var e={data:function(){return{isEdit:void 0!==this.$route.params.id&&null!=this.$route.params.id,id:this.$route.params.id,form:{name:null,email:null,joining_date:new Date,password:null,phone:null,other_contact_numbers:null,photo:null,country_id:20,division_id:null,district_id:null,upazila_id:null,zone_id:null,address:null},errors:[],optionsCountry:[],optionsDivision:[],optionsDistrict:[],optionsUpazila:[],optionsZone:[]}},mounted:function(){var t=this;this.$Progress.start(),this.isEdit?this.$jsHelper.get("api/v1/technicians/"+this.id).then((function(s){t.form.name=s.data.data.name,t.form.joining_date=new Date(s.data.data.date_of_join),t.form.email=s.data.data.email,t.form.phone=s.data.data.phone,t.form.other_contact_numbers=s.data.data.other_contact_numbers,t.form.photo=s.data.data.photo,t.form.division_id=s.data.data.division_id,t.form.district_id=s.data.data.district_id,t.form.upazila_id=s.data.data.upazila_id,t.form.zone_id=s.data.data.zone_id,t.form.address=s.data.data.address,t.selectOption()})).catch((function(s){t.$Progress.fail(),t.$toaster.error("Something went wrong")})):(this.getDropdown("api/v1/zones-all","optionsZone"),this.getDropdown("api/v1/countries","optionsCountry"),this.getDropdown("api/v1/divisions/"+this.form.country_id,"optionsDivision"))},methods:{add:function(t){var s=this;this.$buttonLoader(t),this.$Progress.start(),this.$jsHelper.post("api/v1/technicians",this.form).then((function(t){s.$Progress.finish(),s.$toaster.success("Successfully Added"),setTimeout((function(){return s.$router.push({name:"technician"})}),1e3)})).catch((function(i){s.$Progress.fail(),s.$buttonLoader(t),422===i.response.status?s.errors=i.response.data.errors:s.$toaster.error("Something went wrong")}))},update:function(t){var s=this;this.$Progress.start(),this.$buttonLoader(t),this.$jsHelper.put("api/v1/technicians/"+this.id,this.form).then((function(t){s.$Progress.finish(),s.$toaster.info("Successfully Updated"),setTimeout((function(){return s.$router.push({name:"technician"})}),1e3)})).catch((function(i){s.$Progress.fail(),s.$buttonLoader(t),422===i.response.status?s.errors=i.response.data.errors:s.$toaster.error("Something went wrong")}))},getDropdown:function(t,s){var i=this;this.$Progress.start(),this.$jsHelper.get(t).then((function(t){i[s]=t.data.map((function(t){return{id:t.id,text:t.name}})),i.$Progress.finish()})).catch((function(t){i.$Progress.fail()}))},selectOption:function(){this.getDropdown("api/v1/zones-all","optionsZone"),this.getDropdown("api/v1/countries","optionsCountry"),this.getDropdown("api/v1/divisions/"+this.form.country_id,"optionsDivision"),this.getDropdown("api/v1/districts/"+this.form.division_id,"optionsDistrict"),this.getDropdown("api/v1/upazilas/"+this.form.district_id,"optionsUpazila")}}},o=i("KHd+"),a=Object(o.a)(e,(function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"content"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"offset-md-3 col-md-6"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-header card-header-rose card-header-icon"},[t._m(0),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12 col-md-6"},[t.isEdit?i("h4",{staticClass:"card-title"},[t._v("\n                                    Edit Technician\n                                ")]):i("h4",{staticClass:"card-title"},[t._v("\n                                    Add Technician\n                                ")])]),t._v(" "),i("div",{staticClass:"col-sm-12 col-md-6 text-right pr-md-0"},[i("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/technicians"}},[t._v("Back to list")])],1)])]),t._v(" "),i("div",{staticClass:"card-body"},[i("form",{attrs:{action:""}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"form-group bmd-form-group",class:{"is-filled":null!==t.form.name}},[t._m(1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(s){s.target.composing||t.$set(t.form,"name",s.target.value)}}}),t._v(" "),t.errors.name?i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.name[0]))]):t._e()]),t._v(" "),i("div",{staticClass:"form-group bmd-form-group",class:{"is-filled":null!==t.form.email}},[t._m(2),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email",id:"email"},domProps:{value:t.form.email},on:{input:function(s){s.target.composing||t.$set(t.form,"email",s.target.value)}}}),t._v(" "),t.errors.email?i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.email[0]))]):t._e()]),t._v(" "),i("div",{staticClass:"form-group bmd-form-group",class:{"is-filled":null!==t.form.password,"d-none":1==t.isEdit}},[i("label",{staticClass:"bmd-label-floating",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",id:"password"},domProps:{value:t.form.password},on:{input:function(s){s.target.composing||t.$set(t.form,"password",s.target.value)}}}),t._v(" "),t.errors.password?i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.password[0]))]):t._e()]),t._v(" "),i("div",[t._m(3),t._v(" "),i("v-date-picker",{attrs:{popover:{visibility:"click"}},scopedSlots:t._u([{key:"default",fn:function(s){var e=s.inputValue,o=s.inputEvents;return[i("input",t._g({staticClass:"bg-white border border-bottom-0 form-control px-2 py-1 rounded",domProps:{value:e}},o))]}}]),model:{value:t.form.joining_date,callback:function(s){t.$set(t.form,"joining_date",s)},expression:"form.joining_date"}}),t._v(" "),t.errors.joining_date?i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.joining_date[0]))]):t._e()],1),t._v(" "),i("div",{staticClass:"form-group bmd-form-group",class:{"is-filled":null!==t.form.phone}},[t._m(4),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control",attrs:{type:"text",id:"phone"},domProps:{value:t.form.phone},on:{input:function(s){s.target.composing||t.$set(t.form,"phone",s.target.value)}}}),t._v(" "),t.errors.phone?i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.phone[0]))]):t._e()]),t._v(" "),i("div",{staticClass:"form-group bmd-form-group",class:{"is-filled":null!==t.form.other_contact_numbers}},[i("label",{staticClass:"bmd-label-floating",attrs:{for:"other_contact_numbers"}},[t._v("Other contact Numbers")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.other_contact_numbers,expression:"\n                                                form.other_contact_numbers\n                                            "}],staticClass:"form-control",attrs:{type:"text",id:"other_contact_numbers"},domProps:{value:t.form.other_contact_numbers},on:{input:function(s){s.target.composing||t.$set(t.form,"other_contact_numbers",s.target.value)}}}),t._v(" "),t.errors.other_contact_numbers?i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.other_contact_numbers[0]))]):t._e()])]),t._v(" "),i("div",{staticClass:"col-12 d-none"},[i("div",{staticClass:"form-group"},[t._m(5),t._v(" "),i("Select2",{attrs:{options:t.optionsCountry,name:"country_id",id:"country",placeholder:"Select country"},on:{change:function(s){return t.getDropdown("api/v1/divisions/"+t.form.country_id,"optionsDivision")}},model:{value:t.form.country_id,callback:function(s){t.$set(t.form,"country_id",s)},expression:"form.country_id"}}),t._v(" "),t.errors.country_id?i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.country_id[0]))]):t._e()],1)]),t._v(" "),i("div",{staticClass:"col-12"},[i("div",{staticClass:"form-group"},[t._m(6),t._v(" "),i("Select2",{attrs:{options:t.optionsDivision,name:"division_id",id:"division",placeholder:"Select Division"},on:{change:function(s){return t.getDropdown("api/v1/districts/"+t.form.division_id,"optionsDistrict")}},model:{value:t.form.division_id,callback:function(s){t.$set(t.form,"division_id",s)},expression:"form.division_id"}}),t._v(" "),t.errors.division_id?i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.division_id[0]))]):t._e()],1)]),t._v(" "),i("div",{class:null!=t.form.division_id&&""!=t.form.division_id?"col-12":"col-12 d-none"},[i("div",{staticClass:"form-group"},[t._m(7),t._v(" "),i("Select2",{attrs:{options:t.optionsDistrict,name:"district_id",id:"district",placeholder:"Select District"},on:{change:function(s){return t.getDropdown("api/v1/upazilas/"+t.form.district_id,"optionsUpazila")}},model:{value:t.form.district_id,callback:function(s){t.$set(t.form,"district_id",s)},expression:"form.district_id"}}),t._v(" "),t.errors.district_id?i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.district_id[0]))]):t._e()],1)]),t._v(" "),i("div",{class:null!=t.form.district_id&&""!=t.form.district_id?"col-12":"col-12 d-none"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"select2-form-group"},[t._v("Upazila")]),t._v(" "),i("Select2",{attrs:{options:t.optionsUpazila,name:"upazila_id",id:"upazila",placeholder:"Select Upazila"},model:{value:t.form.upazila_id,callback:function(s){t.$set(t.form,"upazila_id",s)},expression:"form.upazila_id"}}),t._v(" "),t.errors.upazila_id?i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.upazila_id[0]))]):t._e()],1)]),t._v(" "),i("div",{staticClass:"col-12"},[i("div",{staticClass:"form-group"},[t._m(8),t._v(" "),i("Select2",{attrs:{options:t.optionsZone,name:"zone_id",placeholder:"Select Zone"},model:{value:t.form.zone_id,callback:function(s){t.$set(t.form,"zone_id",s)},expression:"form.zone_id"}}),t._v(" "),t.errors.zone_id?i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.zone_id[0]))]):t._e()],1)]),t._v(" "),i("div",{staticClass:"col-12"},[i("div",{staticClass:"form-group bmd-form-group ",class:{"is-filled":null!==t.form.address}},[t._m(9),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"form-control",attrs:{type:"text",id:"address"},domProps:{value:t.form.address},on:{input:function(s){s.target.composing||t.$set(t.form,"address",s.target.value)}}}),t._v(" "),t.errors.address?i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.address[0]))]):t._e()])])])])]),t._v(" "),i("div",{staticClass:"card-footer ml-auto"},[t.isEdit?i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(s){return s.preventDefault(),t.update(s)}}},[t._v("\n                            Update"),i("span",{staticClass:"spinner"})]):i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(s){return s.preventDefault(),t.add(s)}}},[t._v("\n                            Add"),i("span",{staticClass:"spinner"})])])])])])])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-icon"},[s("i",{staticClass:"material-icons"},[this._v("filter_none")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("label",{staticClass:"bmd-label-floating",attrs:{for:"name"}},[this._v("Name"),s("strong",{staticClass:"text-danger"},[this._v(" *")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("label",{staticClass:"bmd-label-floating",attrs:{for:"email"}},[this._v("Email"),s("strong",{staticClass:"text-danger"},[this._v(" *")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("label",{staticClass:"mb-0 fs11",attrs:{for:"joining_date"}},[this._v("Date of Joining"),s("strong",{staticClass:"text-danger"},[this._v(" *")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("label",{staticClass:"bmd-label-floating",attrs:{for:"phone"}},[this._v("Mobile"),s("strong",{staticClass:"text-danger"},[this._v(" *")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("label",{staticClass:"select2-form-group"},[this._v("Country"),s("strong",{staticClass:"text-danger"},[this._v(" *")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("label",{staticClass:"select2-form-group"},[this._v("Division"),s("strong",{staticClass:"text-danger"},[this._v(" *")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("label",{staticClass:"select2-form-group"},[this._v("District"),s("strong",{staticClass:"text-danger"},[this._v(" *")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("label",{staticClass:"select2-form-group"},[this._v("Zone"),s("strong",{staticClass:"text-danger"},[this._v(" *")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("label",{staticClass:"bmd-label-floating",attrs:{for:"address"}},[this._v("Address/Road no/House no"),s("strong",{staticClass:"text-danger"},[this._v(" *")])])}],!1,null,null,null);s.default=a.exports}}]);