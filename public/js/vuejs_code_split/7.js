(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{ra4u:function(t,s,a){"use strict";a.r(s);var r={data:function(){return{param:{query:"",sort:{column:"",sort_order:""}},customers:[],pagination:{current_page:1,per_page:10}}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.$Progress.start(),this.$jsHelper.get("api/v1/customers?page="+this.pagination.current_page+"&per_page="+this.pagination.per_page+"&query="+this.param.query+"&sort_by="+this.param.sort.column+"&sort_order="+this.param.sort.sort_order).then((function(s){t.$Progress.finish(),t.customers=s.data.data,t.pagination=s.data.meta})).catch((function(s){t.$Progress.fail(),t.$toaster.error("Something went wrong")}))},sort:function(t){this.param.sort.column=t.currentTarget.dataset.column,t.currentTarget.classList.contains("asc")?(this.param.sort.sort_order="DESC",this.getData()):(this.param.sort.sort_order="ASC",this.getData())},remove:function(t){var s=this;this.$swal("Are you sure to delete this admin user?").then((function(a){!0===a.isConfirmed&&s.$jsHelper.delete("api/v1/customers/"+t.id).then((function(t){s.$Progress.finish(),s.$toaster.warning("Deleted successfully"),s.getData()})).catch((function(t){s.$Progress.fail(),s.$toaster.error("Something went wrong")}))}))}}},i=a("KHd+"),e=Object(i.a)(r,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header card-header-rose card-header-icon"},[t._m(0),t._v(" "),a("div",{staticClass:"row"},[t._m(1),t._v(" "),a("div",{staticClass:"col-6 text-right pr-md-0"},[a("router-link",{staticClass:"btn btn-sm btn-primary mt-2",attrs:{to:"/customers/form"}},[t._v("Add\n                                    "),a("div",{staticClass:"ripple-container"})])],1)])]),t._v(" "),a("div",{staticClass:"card-body"},[a("search",{attrs:{pagination:t.pagination,param:t.param},on:{limit:function(s){return t.getData()}}}),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-sortable"},[a("thead",[a("tr",[a("th",[t._v("SL#")]),t._v(" "),a("th",{staticClass:"sorting mw-80",attrs:{"data-column":"users.name"},on:{click:function(s){return t.sort(s)}}},[t._v("Name")]),t._v(" "),a("th",{staticClass:"sorting mw-80",attrs:{"data-column":"users.email"},on:{click:function(s){return t.sort(s)}}},[t._v("Email")]),t._v(" "),a("th",{staticClass:"sorting mw-80",attrs:{"data-column":"users.phone"},on:{click:function(s){return t.sort(s)}}},[t._v("Mobile")]),t._v(" "),a("th",{staticClass:"sorting mw-120",attrs:{"data-column":"customerId"},on:{click:function(s){return t.sort(s)}}},[t._v("Customer ID")]),t._v(" "),a("th",{staticClass:"sorting mw-80",attrs:{"data-column":"customer_types.name"},on:{click:function(s){return t.sort(s)}}},[t._v("Type")]),t._v(" "),a("th",{staticClass:"mw-100"},[t._v("Address")]),t._v(" "),a("th",{staticClass:"text-right mw-80"},[t._v("\n                                            Actions\n                                        ")])])]),t._v(" "),a("tbody",t._l(t.customers,(function(s,r){return a("tr",{key:s.id},[a("td",[t._v(t._s(t.pagination.from+r))]),t._v(" "),a("td",[a("router-link",{attrs:{to:{name:"customer_view",params:{id:s.id}},target:"_blank"}},[t._v(t._s(s.name))])],1),t._v(" "),a("td",[t._v(t._s(s.email))]),t._v(" "),a("td",[t._v(t._s(s.phone))]),t._v(" "),a("td",[t._v(t._s(s.customerId))]),t._v(" "),a("td",[t._v(t._s(s.customer_type))]),t._v(" "),a("td",[t._v(t._s((""!=s.address&&null!=s.address?s.address+", ":"")+(""!=s.upazila?s.upazila+", ":"")+(""!=s.district?s.district+", ":"")+(""!=s.division?s.division+", ":"")+(""!=s.country?s.country:"")))]),t._v(" "),a("td",{staticClass:"td-actions w76 text-right"},[a("router-link",{staticClass:"btn btn-success btn-round",attrs:{to:{name:"customer_form",params:{id:s.id}},type:"button",rel:"tooltip","data-original-title":"",title:""}},[a("i",{staticClass:"material-icons"},[t._v("edit")])]),t._v(" "),a("button",{staticClass:"btn btn-danger btn-round",attrs:{type:"button",rel:"tooltip","data-original-title":"",title:""},on:{click:function(a){return a.preventDefault(),t.remove(s)}}},[a("i",{staticClass:"material-icons"},[t._v("close")])])],1)])})),0)])]),t._v(" "),a("pagination",{attrs:{pagination:t.pagination,offset:5},on:{paginate:function(s){return t.getData()}}})],1)])])])])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-icon d-md-block d-none"},[s("i",{staticClass:"material-icons"},[this._v("assignment")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-6"},[s("h4",{staticClass:"card-title"},[this._v("Customer List")])])}],!1,null,null,null);s.default=e.exports}}]);